
---



### stream

`stream`은 C#에서 **데이터를 읽고 쓸 수 있는 흐름**을 나타내는 객체입니다. 일반적으로 **입력 및 출력(I/O) 스트림**은 **파일, 네트워크 연결, 메모리 등**에서 데이터를 읽고 쓸 수 있도록 해줍니다. 이 객체를 통해 데이터를 보내거나 받을 수 있습니다.

위 코드에서 `stream`은 `TcpClient.GetStream()` 메서드를 사용하여 생성된 **네트워크 스트림**입니다. 이 스트림은 클라이언트와 서버 간의 **TCP 연결**을 통해 데이터를 송수신할 수 있게 해줍니다.

#### **1. `stream`의 생성**

`stream = tcpClient.GetStream();`

- `TcpClient.GetStream()`은 TCP 연결을 통해 **네트워크 스트림**을 반환합니다. 이 스트림은 **소켓**을 사용하여 데이터를 송수신할 수 있게 합니다.
- **`stream`은 `NetworkStream` 객체**로, TCP 연결을 통해 데이터를 읽고 쓸 수 있는 기능을 제공합니다.
#### **2. `stream`의 역할**

`stream`은 **데이터 전송의 통로**로 작동합니다. 네트워크를 통한 **입출력**을 처리하기 위한 객체로, 클라이언트에서 서버로 또는 서버에서 클라이언트로 데이터를 보내거나 받을 때 사용됩니다. 주로 **네트워크 통신**에 사용되며, 다른 I/O 작업에서도 비슷하게 사용됩니다.

#### **3. 네트워크 통신에서의 사용**

`stream`은 네트워크를 통해 **바이트 단위**로 데이터를 송수신하는 데 사용됩니다. 이는 소켓을 통해 이루어지는 통신을 관리하는 객체입니다.

##### **1. `Write()` 함수**

`Write()` 함수는 네트워크 스트림에 데이터를 보내는 역할을 합니다. 서버와 클라이언트 간의 데이터를 전송할 때 사용됩니다.

```
public void Write(byte[] buffer, int offset, int count);
```

- **`buffer`** (`byte[]`): 전송할 데이터가 들어 있는 **바이트 배열**입니다. 이 배열은 네트워크를 통해 전송할 데이터를 포함하고 있어야 합니다. 예를 들어, 문자열을 전송하려면 먼저 그 문자열을 바이트 배열로 변환해야 합니다.
- **`offset`** (`int`): **배열에서 전송을 시작할 인덱스**를 지정하는 값입니다. 예를 들어, 0을 지정하면 배열의 첫 번째 요소부터 전송이 시작됩니다.
- **`count`** (`int`): **전송할 바이트 수**를 지정하는 값입니다. 예를 들어, 배열의 크기만큼 전송하려면 `buffer.Length`를 사용할 수 있습니다.
##### **2. `Read()` 함수**

`Read()` 함수는 네트워크 스트림에서 데이터를 읽어오는 역할을 합니다. 서버나 다른 클라이언트에서 전송한 데이터를 읽을 때 사용됩니다.

```
public int Read(byte[] buffer, int offset, int size);
```
- **`buffer`** (`byte[]`): 읽어온 데이터를 저장할 **바이트 배열**입니다. 이 배열은 네트워크 스트림에서 읽어온 데이터를 임시로 저장합니다.
- **`offset`** (`int`): 데이터를 읽기 시작할 배열의 **인덱스**입니다. 예를 들어, `0`이면 배열의 첫 번째 위치에서부터 데이터를 읽습니다.
- **`size`** (`int`): 읽을 최대 **바이트 수**입니다. 예를 들어, `1024`로 지정하면 최대 1024바이트까지 읽을 수 있습니다.

#### **3. `Close()` 함수**
```
public void Close();
```
`Close()` 함수는 인자가 없는 메서드로, 네트워크 스트림을 종료하고 리소스를 정리하는 작업을 수행합니다.

#### **4. `NetworkStream` 객체의 특징**

- **바이트 단위 작업**: `NetworkStream`은 바이트 단위로 데이터를 전송하므로, **문자열**을 전송하려면 문자열을 **바이트 배열**로 변환해야 합니다. 예를 들어, `Encoding.UTF8.GetBytes()`를 사용하여 문자열을 바이트 배열로 변환하고, 이를 `Write()` 메서드를 통해 전송할 수 있습니다.
    
- **양방향 통신**: `NetworkStream`은 데이터를 읽고 쓸 수 있기 때문에, 양방향 통신이 가능합니다. 즉, 클라이언트가 데이터를 보내면, 서버에서 데이터를 읽고, 반대로 서버가 데이터를 보내면 클라이언트에서 읽을 수 있습니다.
    
- **버퍼링**: `NetworkStream`은 자동으로 데이터를 버퍼링합니다. 이는 성능을 최적화하기 위한 기능으로, 많은 양의 데이터를 처리할 때 유용합니다.
    
- **자동 처리**: `NetworkStream`은 내부적으로 연결을 관리하고, 데이터 전송을 **자동으로 처리**합니다. 사용자는 스트림을 통해 데이터를 보내고 받기만 하면 됩니다.

