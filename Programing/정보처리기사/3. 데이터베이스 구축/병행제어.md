### ⚙️ 병행제어(Concurrency Control)란?

- 다수의 트랜잭션이 **동시에 실행될 때** 충돌 없이 **일관성**을 유지하도록 하는 기술.
    
- **트랜잭션 간 간섭을 방지**하면서도 최대한 병렬 처리를 허용하는 게 목표!
    

### ⚠️ 병행 수행 시 발생할 수 있는 문제

|현상|설명|예시|
|---|---|---|
|**갱신 분실(연쇄 덮어쓰기, Lost Update)**|두 트랜잭션이 같은 데이터를 수정하면서 **한 쪽 결과가 덮어써짐**|둘 다 UPDATE 했지만 나중 값만 남음|
|**더티 리드(Dirty Read)**|다른 트랜잭션의 **커밋되지 않은 데이터**를 읽음|ROLLBACK되면 잘못된 값 읽은 셈|
|**반복 불가능한 읽기(Non-Repeatable Read)**|한 트랜잭션 내에서 **같은 데이터를 두 번 읽었는데 값이 다름**|중간에 다른 트랜잭션이 값을 바꿈|
|**팬텀 리드(Phantom Read)**|같은 조건으로 두 번 SELECT했는데 **행의 개수가 달라짐**|중간에 다른 트랜잭션이 INSERT|

### 🔒 병행제어 기법

|방식|설명|특징|
|---|---|---|
|**로킹(Locking)**|데이터에 **잠금(Lock)**을 걸어 트랜잭션 간 충돌 방지|공유 락(읽기), 배타 락(쓰기) 등 존재|
|**타임스탬프 순서 기법**|트랜잭션에 시간 순서를 부여해 **작업 순서 보장**|교착 상태 발생하지 않음|
|**낙관적 기법(Validation)**|트랜잭션 중 충돌 검사를 **마지막에만 수행**|읽기 많고 수정 적은 환경에 유리|
|**다중 버전 동시성 제어(MVCC)**|데이터를 버전별로 관리 → **읽기와 쓰기를 분리**|PostgreSQL 등에서 사용됨|

### 🧠 시험 대비 포인트 요약

- 병행제어는 **트랜잭션 간의 충돌 방지**를 위한 메커니즘이다.
    
- 대표 문제: **갱신 분실, 더티 리드, 반복 불가능한 읽기, 팬텀 리드**
    
- 가장 널리 쓰이는 방식은 **로킹(Locking)**