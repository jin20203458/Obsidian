프로세스는 실행중인 프로그램, PCB,PC를 가진 프로그렘, 능동적인 수행중인 프로그램이다.
프로그램=수동적 , 프로세스= 능동적

**PCB(Process Control Block)**
- 프로세스 마다 1개씩 가짐
- 생성시 커널 영역에 생성, 종료 시 폐기
- 트레픽 제어기에 의하여 수정됨

<u>대표적인 정보(운영체제 마다 차이 존재)</u>
- 프로세스 ID (PID)
- 레지스터 값 ( 다시 본인 차례가 오면 실행을 재개하기 위하여)
- 프로세스 상태
- CPU 스케줄링 정보
- 메모리 정보( 메모리의 어디 저장되어 있는지, 페이지테이블 정보)
- 사용한 파일, 입출력 정보

프로세스는 실행중인 프로그램이므로 주기억장치에 적재되는데
이를 영역으로 나누면 이러하다.

코드     영역: 기계어로 이루어진 명령어 저장(read only)
데이터 영역: 프로그램이 실행되는 동안 유지할 데이터 저장(전역,정적변수)
힙        영역: 프로그래머가 직접 할당할 수 있는 저장공간 (동적할당)
스텍    영역: 데이터가 일시적으로 저장되는 공간 (지역변수, 파라미터)



fork : 자신의 복사본(데이터만 같지 완전 별개임)을 자식 프로세스로 생성
exec : 메모리 공간을 새로운 프로그램으로 덮어쓰기   

**생성 상태 :** 이제 막 메모리에 적재되어 PCB를 할당 받은 상태

**준비 상태 :** 당장이라도 CPU를 할당받아 실행할 수 있지만 자신의 차례가 아니라 기다리는 상태

**실행 상태 :** CPU를 할당받아 실행중인 상태(할당 시간을 모두 사용하면 다시 준비 상태로)

**대기 상태 :** 프로세스가 입출력장치를 사용할때 작업이 끝날때까지 대기하는 상태 (끝나면 다시 준비로)

**종료 상태 :** 프로세스가 종료된 상태, PCB,메모리 영역 정리

프로세스가 생성되면 준비,실행,대기 상태 에서 종료될때까지 존재한다.

프로세스 스케줄링 목적
- **공정한 자원 분배**: 모든 프로세스에 CPU 시간을 공정하게 분배
- **시스템 자원 활용 극대화**: CPU와 메모리 등의 자원을 효율적으로 활용, 시스템의 전체 성능을 최적화
- **응답 시간 단축**: 사용자 요청에 대한 빠른 응답을 제공
- **처리량 증가**: 가능한 한 많은 프로세스를 처리하여 시스템의 처리량 최대화.
- **대기 시간 최소화**: 프로세스가 대기하는 시간을 줄여 전체적인 작업 처리 시간을 최소화

중앙처리장치 스케줄링의 중요한 3단계

1. 상위단계 :자원 스케줄링(승인 스케줄링)
2. 중간단계 :입출력 장치 스케줄링
3. 하위단계 : 프로세스 스케줄링 어떤 프로세스에게 할당할 것인가?

선점 비선점 방식
1. 선점 방식: 다른 프로세스가 현제프로세스가 완료되기전 침범가능(세치기)
- 문맥교환의 오버해드를 주의해야한다.

2. 비선점 방식: 현재프로세스가 끝날때까지 타 프로세스가 침범 불가(기다림)
- 급한 처리가 필요한 프로세스또한 선점이 불가하기에 기다려야 한다.

기한부 스케줄링 : 특정 기간까지 완료시켜야하는 스케줄링(적용이 어렵다.)
1. 경성 실시간 시스템 
- 시간제한을 절대준수,혼용이 불가능

2. 연성 실시간 시스템
- 시간제한을 준수해야하지만 약간의 지연가능 (우선순위를 사용), 혼용가능

정적, 동적 스케줄링
1. 정적 스케줄링
- 스케줄이 사전에 결정됨 스케줄링 알고리즘이 모든 작업을 미리 알고있어야한다.
- 변수에  대응이 불가능

2. 동적 스케줄링
- 작업의 스케줄링이 실행중 결정
- 유연성이 크고, 변수에 대응이 가능

다중 프로세스 스케줄링

1. 형태기 동질( 프로세스들 각각의 성질이 동일할때 )
- 프로세스의 특성이 같기에 단일큐를 사용

2. 형태기 이질( 프로세스들 각각의 성질이 다를때)
- 프로세스의 특성이 각각 다르기에 다중큐를 사용

스케줄링 알고리즘 평가 기준(간트차트를 참고하면 편하다.)

대기시간 : 프로세스가 실행전 대기하는 시간 (시작시간 - 도착시간)
응답시간 : 프로세스가 실행을 요청한후 첫응답을 받는 시간
실행시간 : 프로세스가 실행해서 종료까지의 시간
반환시간 : 프로세스가 시작부터 종료까지 걸리는 전체 시간(완료시간 - 도착시간)

**선입 선처리 스케줄링(FirstCimeFirstServed)**
준비 큐에 삽입된 순서대로 처리하는 비선점 스케줄링
- 호위효과주의 :프로세스들이 기다리는 시간이 매우 길어질 수 있다.(앞에껄 전부 처리해야 하니까)

|프로세스|도착 시간|실행 시간 (Burst Time)|
|---|---|---|
|P1|0|5|
|P2|1|3|
|P3|2|8|
|P4|3|6|


| 프로세스 | 도착 시간 | 실행 시간 | 완료 시간 | 대기 시간 |
| ---- | ----- | ----- | ----- | ----- |
| P1   | 0     | 5     | 5     | 0     |
| P2   | 1     | 3     | 8     | 4     |
| P3   | 2     | 8     | 16    | 6     |
| P4   | 3     | 6     | 22    | 13    |


**최단 작업 스케줄링(ShortJobFirst)**
CPU를 조금 사용하는 작업부터 처리(기본적으론 비선점형)

|프로세스|도착 시간|실행 시간 (Burst Time)|
|---|---|---|
|P1|0|8|
|P2|1|4|
|P3|2|9|
|P4|3|5|

| 프로세스 | 도착 시간 | 실행 시간 | 완료 시간 | 대기 시간 |
| ---- | ----- | ----- | ----- | ----- |
| P1   | 0     | 8     | 8     | 0     |
| P2   | 1     | 4     | 12    | 7     |
| P3   | 2     | 9     | 26    | 15    |
| P4   | 3     | 5     | 17    | 9     |


**라운드 로빈 스케줄링(RoundRobin)**
선입 선처리 스케줄링 + 타임 슬라이스
- context switching 오버헤드 발생 적절한 타임슬라이스 선정이 중요하다.
- 선점형 스케줄링

| 프로세스 | 도착 시간 | 실행 시간 (Burst Time) |
| ---- | ----- | ------------------ |
| P1   | 0     | 8                  |
| P2   | 1     | 4                  |
| P3   | 2     | 9                  |
| P4   | 3     | 5                  |

| 프로세스 | 도착 시간 | 실행 시간 | 완료 시간 | 대기 시간 |
| ---- | ----- | ----- | ----- | ----- |
| P1   | 0     | 8     | 20    | 12    |
| P2   | 1     | 4     | 8     | 3     |
| P3   | 2     | 9     | 26    | 15    |
| P4   | 3     | 5     | 21    | 13    |




**우선순위 스케줄링**
- 우선순위별, 같다면 선입 선처리 
- 기아 현상 주의 (우선순위 낮은 프로세스의 무한대기)
- 이를 해결하기 위해 에이징 기법이 있다. (일정이상 대기시 우선순위 상승)

| 프로세스 | 실행시간 | 우선순위 |
| ---- | ---- | ---- |
| P1   | 8    | 2    |
| P2   | 2    | 3    |
| P3   | 1    | 1    |
| P4   | 2    | 3    |
| p5   | 6    | 4    |
|      |      |      |

SRT(Shortest Remaining Time)
- 선점형 버전의 SJF 스케줄링
- 남은 실행시간이 더 짧은 프로세스가 CPU를 차지

| 프로세스 | 실행시간 | 우선순위 |
| ---- | ---- | ---- |
| P1   | 6    | 0    |
| P2   | 4    | 1    |
| P3   | 2    | 2    |
| P4   | 2    | 3    |

**HRRN (Highest Response Ratio Next)**는  **비선점형** 스케줄링 알고리즘으로, 주로 **대기 시간이 긴 작업에 우선순위를 부여**하여 기아 현상(starvation)을 방지하는 데 사용됩니다.

![[Pasted image 20241001231229.png]]


프로세스