![[Pasted image 20250701111533.png]]

### Register for Dead Symbols

Dead Symbol: 현재 경로 상에서 **다시 참조될 가능성이 없는 변수나 심볼**을 의미합니다.
- Simblo이 소멸되면 체커에게 알림을 보낼 수 있습니다

```cpp
class SimpleStreamChecker : public Checker<check::PostCall,
                                           check::PreCall,
                                           check::DeadSymbols>{
...
void checkDeadSymbols(SymbolReaper &SymReaper, CheckerContext &C) const;
};
```


```cpp
void SimpleStreamChecker::checkDeadSymbols(SymbolReaper &SymReaper, CheckerContext &C) const { ProgramStateRef State = C.getState(); SymbolVector LeakedStreams; StreamMapTy TrackedStreams = State->get(); for (StreamMapTy::iterator I = TrackedStreams.begin(), E = TrackedStreams.end(); I != E; ++I) { SymbolRef Sym = I->first; bool IsSymDead = SymReaper.isDead(Sym); if (isLeaked(Sym, I->second, IsSymDead)) LeakedStreams.push_back(Sym); } }
```