
```cpp
struct StreamState {
  enum Kind { Opened, Closed } K;

  // 생성자
  StreamState(Kind InK) : K(InK) { }

  // 비교 연산자 오버로딩
  bool operator==(const StreamState &X) const 
  {
    return K == X.K;
  }

  // LLVM의 FoldingSet 사용을 위한 Profile 정의
  void Profile(llvm::FoldingSetNodeID &ID) const 
  {
    ID.AddInteger(K);
  }

  // 상태 검사 메서드
  bool isOpened() const { return K == Opened; }
  bool isClosed() const { return K == Closed; }

  // 정적 상태 생성자
  static StreamState getOpened() { return StreamState(Opened); }
  static StreamState getClosed() { return StreamState(Closed); }
};
```

|구성 요소|설명|
|---|---|
|`enum Kind { Opened, Closed }`|스트림의 상태를 나타내는 열거형|
|`StreamState(Kind InK)`|상태를 초기화하는 생성자|
|`operator==`|상태 간 비교 가능하게 해주는 연산자 오버로딩|
|`Profile()`|LLVM 내부에서 상태를 키로 쓰기 위한 해시용 메서드|
|`isOpened()` / `isClosed()`|현재 상태가 Open/Closed인지 확인|
|`getOpened()` / `getClosed()`|지정된 상태 객체를 생성해 반환하는 팩토리 함수|