

![[Pasted image 20241229202712.png]]
![[Pasted image 20241229202726.png]]
### 1. **메모리 단편화의 정의와 유형**

메모리 단편화는 운영체제나 응용 프로그램에서 메모리를 효율적으로 사용하지 못해 할당 가능한 공간이 비효율적으로 분리되고 사용되지 못하는 현상을 말합니다. 이는 두 가지 주요 유형으로 나눌 수 있습니다:

#### 내부 단편화 (Internal Fragmentation)

- **정의**: 요청한 메모리보다 더 큰 블록이 할당되어, 사용되지 않는 메모리 공간이 블록 내부에 남는 현상입니다.
- **발생 원인**: 고정 크기 메모리 블록을 사용하는 시스템에서 자주 발생합니다. 요청 크기보다 큰 단위를 할당하는 경우, 잉여 메모리가 생깁니다.
- **예시**: 만약 64바이트 블록 단위로 메모리를 할당하고, 사용자가 50바이트를 요청했다면, 나머지 14바이트는 사용되지 않습니다.

#### 외부 단편화 (External Fragmentation)

- **정의**: 사용 가능한 메모리 공간은 충분하지만, 연속적으로 이어진 큰 공간이 없어서 요청을 처리할 수 없는 현상입니다.
- **발생 원인**: 가변 크기 메모리 블록을 사용하는 시스템에서 메모리 할당과 해제가 반복될 때, 비연속적으로 남은 작은 빈 공간들이 축적되어 발생합니다.
- **예시**: 총 1GB의 메모리가 남아 있지만, 여러 작은 블록들로 분산되어 있어 100MB의 연속 공간을 할당할 수 없는 상황.

#### 유형 간 비교

|**특징**|**내부 단편화**|**외부 단편화**|
|---|---|---|
|**원인**|블록 크기가 고정됨|블록 크기가 가변적임|
|**발생 위치**|메모리 블록 내부|메모리 블록 외부|
|**해결 방법**|더 작은 블록 크기로 설계|메모리 압축 또는 페이징 사용|

---

### 2. **메모리 단편화의 실질적인 영향**

메모리 단편화는 시스템 성능과 효율성에 심각한 영향을 미칩니다. 다음은 주요한 영향들입니다:

#### 성능 저하

- **내부 단편화**는 메모리 공간 낭비로 이어져 유효 메모리 사용량을 감소시킵니다. 이는 애플리케이션이 더 많은 메모리를 요구하게 만들어, 스왑 사용량 증가와 I/O 병목 현상을 초래할 수 있습니다.
- **외부 단편화**로 인해 필요한 크기의 메모리를 할당하지 못하면, 프로세스 실행이 지연되거나 실패할 수 있습니다.

#### 리소스 낭비

- 물리적 메모리 공간이 충분함에도 불구하고, 사용 가능한 메모리가 부족하다고 인식될 수 있습니다. 이는 비효율적인 리소스 사용을 초래하며, 추가 메모리 하드웨어 도입 비용을 증가시킵니다.

#### 시스템 안정성 문제

- 단편화가 심해지면, 운영체제나 애플리케이션에서 메모리 부족으로 인해 **충돌(Crash)**, **프로세스 중단(Halt)**, 또는 시스템 재부팅과 같은 치명적인 문제가 발생할 가능성이 높아집니다.

#### 해결의 복잡성 증가

- 외부 단편화는 **메모리 압축(Compaction)**, **페이징(Paging)**, 또는 **세그멘테이션(Segmentation)** 과 같은 추가적인 메모리 관리 기법을 필요로 합니다. 이러한 기법은 프로세스 중단, 오버헤드 증가 등을 동반하기에 실시간 시스템에서는 적용이 어렵습니다.

#### 사례

- 데이터베이스 서버와 같은 메모리 집약적인 애플리케이션에서 단편화로 인해 성능이 저하되면, 전체 사용자 경험이 악화될 수 있습니다.
- 클라우드 컴퓨팅 환경에서는 단편화가 심하면 가상 머신(VM) 배치 실패가 발생하여 리소스 활용률이 저하됩니다.

|**기법**|**내부 단편화**|**외부 단편화**|
|---|---|---|
|**페이징**|O|X|
|**세그멘테이션**|X|O|

세그멘테이션 기법은 연속된 메모리 공간을 요구하만 페이징 기법은 그렇지 않다.