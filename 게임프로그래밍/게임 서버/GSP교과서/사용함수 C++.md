
---
### WSAStartup( )
#include <winsock2.h>
 Windows에서 소켓을 사용하기 위해 네트워크 기능을 초기화하는 함수입니다. 이는 Windows 소켓 API(WinSock)의 일부로, 네트워크 작업을 시작하기 전에 반드시 호출해야 합니다.
```
int WSAStartup
(
  WORD wVersionRequested,
  LPWSADATA lpWSAData
);
```

1. **wVersionRequested (WORD)**:
    - 애플리케이션이 요구하는 WinSock의 버전을 나타냅니다.
    - 일반적으로 `MAKEWORD(2, 2)` 형태로 사용하여 **2.2** 버전을 요청하는 것이 일반적입니다. 이는 대부분의 최신 애플리케이션에서 지원되는 버전입니다.
    - `MAKEWORD(a, b)` 매크로는 `a`와 `b`를 결합하여 16비트 값을 생성합니다. 예를 들어, `MAKEWORD(2, 2)`는 `0x0202`로 설정됩니다.
2. **lpWSAData (LPWSADATA)**:
    - WinSock 라이브러리와 관련된 정보를 반환하는 구조체에 대한 포인터입니다. 이 구조체에는 사용할 수 있는 소켓 버전과 관련된 정보, 지원되는 프로토콜 등 네트워크 관련 데이터가 담깁니다.
    - 반환된 `WSADATA` 구조체에서 중요한 항목은 `wVersion`과 `wHighVersion` 필드입니다. `wVersion`은 실제로 사용된 버전을 나타내며, `wHighVersion`은 해당 애플리케이션에서 사용할 수 있는 최대 버전을 나타냅니다.
### 반환값

- **0**: 성공적으로 초기화가 완료되었음을 의미합니다.
- **WSAStartup()이 실패하는 경우**: 오류 코드가 반환됩니다. 이 오류 코드는 `WSAGetLastError()` 함수를 통해 얻을 수 있습니다.
---
### bind( )
#include <sys/socket.h>
소켓을 특정 IP 주소와 포트 번호에 연결하는 데 사용되는 함수입니다.

```
int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen);
```

1. **sockfd (int)**:
    - 바인딩할 소켓의 파일 디스크립터입니다. 이 값은 `socket()` 함수를 사용하여 생성한 소켓에 해당합니다.
2. *_addr (const struct sockaddr_)**:
    - 소켓에 바인딩할 주소 정보입니다. 주소는 `struct sockaddr` 형식으로 전달되며, 실제로 사용하는 주소 구조체는 주소의 종류에 따라 달라집니다. 예를 들어, IPv4 주소를 사용하는 경우 `struct sockaddr_in` 구조체를 사용하고, IPv6 주소를 사용하는 경우 `struct sockaddr_in6` 구조체를 사용합니다.
3. **addrlen (socklen_t)**:
    - 주소 구조체의 크기입니다. 예를 들어, `struct sockaddr_in`을 사용하는 경우 `sizeof(struct sockaddr_in)`이 됩니다.
### 반환값

- **0 이상**: 성공적으로 바인딩되었습니다.
- **-1**: 실패한 경우이며, 오류 코드가 `errno`에 설정됩니다.
---

### listen()
#include <sys/socket.h>
서버 소켓이 클라이언트의 연결 요청을 수신할 준비가 되었음을 나타내는 함수입니다.
```
int listen(int sockfd, int backlog);
```
1. **sockfd (int)**:
    - `listen()`을 호출할 소켓의 파일 디스크립터입니다. 이 소켓은 `socket()`으로 생성된 소켓이어야 합니다.
2. **backlog (int)**:
    - 수신 대기 큐의 크기입니다. 대기 중인 연결 요청의 최대 개수를 지정합니다. 즉, 이 값은 소켓이 동시에 처리할 수 있는 **대기 중인 연결 요청의 수**를 나타냅니다.
    - `backlog` 값이 너무 작은 경우, 클라이언트가 연결을 시도해도 대기 큐가 가득 차서 연결이 실패할 수 있습니다. 그러나 너무 큰 값도 자원 낭비를 초래할 수 있습니다.
    - 일반적으로 값은 5~10 정도로 설정되며, 운영체제에 따라 기본값이 다를 수 있습니다.
### 반환값
- **0**: 성공적으로 소켓이 연결 대기 상태로 설정되었습니다.
- **-1**: 실패했으며, 오류 코드가 `errno`에 설정됩니다.
---

### accept()
#include <sys/socket.h>
서버 소켓에서 클라이언트의 연결 요청을 수락하는 함수입니다.
```
int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);
```
1. **sockfd (int)**:
    - `accept()` 함수가 호출될 소켓의 파일 디스크립터입니다. 이 소켓은 `listen()` 함수로 대기 상태로 설정된 소켓이어야 합니다.
2. *_addr (struct sockaddr_)**:
    - 연결을 요청한 클라이언트의 주소 정보가 저장될 구조체에 대한 포인터입니다. 서버는 이 구조체를 통해 클라이언트의 IP 주소와 포트 번호 등의 정보를 알 수 있습니다. 이 주소 구조체는 보통 `struct sockaddr_in`(IPv4) 또는 `struct sockaddr_in6`(IPv6) 형태로 사용됩니다.
3. *_addrlen (socklen_t_)**:
    - 클라이언트 주소 구조체의 크기를 지정하는 변수에 대한 포인터입니다. 이 값은 `accept()` 호출 전에는 정확한 크기여야 하며, 함수 호출 후에는 실제로 반환된 클라이언트 주소 크기가 이 값에 저장됩니다.
### 반환값

- **새로운 소켓 파일 디스크립터**: 클라이언트와의 연결을 처리할 새로운 소켓의 파일 디스크립터를 반환합니다. 이 소켓은 클라이언트와의 통신에 사용됩니다.
- **-1**: 실패한 경우이며, 오류 코드가 `errno`에 설정됩니다.
---
### recv()
#include <sys/socket.h>
소켓에서 데이터를 읽는 데 사용되는 함수입니다.
```
ssize_t recv(int sockfd, void *buf, size_t len, int flags);
```
1. **sockfd (int)**:
    - 데이터를 수신할 소켓의 파일 디스크립터입니다. `socket()` 함수로 생성된 소켓이어야 합니다.
2. *_buf (void_)**:
    - 데이터를 저장할 버퍼의 포인터입니다. 이 버퍼에 소켓으로부터 읽은 데이터가 저장됩니다.
3. **len (size_t)**:
    - 버퍼의 크기(즉, 읽을 최대 데이터의 크기)입니다. 이 값은 버퍼의 크기와 동일하며, `recv()` 함수가 한 번에 읽을 수 있는 최대 바이트 수를 제한합니다.
4. **flags (int)**:
    - 수신 동작을 제어하는 플래그입니다. 이 값은 `0`이 일반적으로 사용되며, 특정 플래그를 설정하여 특수한 동작을 요청할 수 있습니다. 예를 들어:
    - `MSG_PEEK`: 데이터를 버퍼에 복사하지만, 소켓의 읽기 포인터는 이동시키지 않습니다.
    - `MSG_WAITALL`: 지정된 크기만큼 데이터를 모두 수신할 때까지 기다립니다.
### 반환값

- **양의 값**: 성공적으로 수신된 데이터의 크기입니다. 실제로 수신한 데이터의 바이트 수를 반환합니다.
- **0**: 연결이 종료되었음을 나타냅니다. 클라이언트가 연결을 종료한 경우 등.
- **-1**: 오류가 발생했을 때 반환되며, `errno`에 오류 코드가 설정됩니다.
---

